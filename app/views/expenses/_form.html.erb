
<% if params[:id]%>
<% form_info = (@expense) %>
<% else %>
<% form_info = [@event, @expense] %>
<% end %>
<%= form_for form_info do |f| %>
  <% if @expense.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@expense.errors.count, "error") %> prohibited this expense from being saved:</h2>

      <ul>
      <% @expense.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <p><%= f.label :item %>:
    <%= f.text_field :item, :required => true %> (required)</p>
  </div>
  <div class="field">
    <p><%= f.label :amount %>:
    <%= f.text_field :amount, :required => true %> (required)</p>
  </div>
  <div class="field">
    <p><%= f.label :description %>:
    <%= f.text_field :description %></p>
  </div>
  <div class="field">
    <p><%= f.label :start_date %>:
    <%= f.date_field :start_date, min: @event.start_date, max: @event.end_date, value: @event.start_date %></p>
  </div>
  <div class="field">
    <p><%= f.label :end_date %>:
    <%= f.date_field :end_date, min: @event.start_date, max: @event.end_date, value: @event.end_date %></p>
  </div>
  <div class="field">
    <p><%= f.label :calculation_type %>:
    <%= f.radio_button :calculation_type, :boat %> BOAT?
    <%= f.radio_button :calculation_type, :groceries %> GROCERIES?
    <%= f.radio_button :calculation_type, :gifts , :checked => true%> GIFTS?<p>
  </div>
  <div class="field">
    <p><%= f.label :Category %>:
    <%= f.select(:tag, ["Lodging", "Food & Beverage", "Transportation", "Miscellaneous"]) %></p>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
